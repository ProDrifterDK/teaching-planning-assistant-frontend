{"openapi":"3.1.0","info":{"title":"API de Planificación Curricular","description":"API para consultar y utilizar los datos del currículum nacional chileno, enriquecidos con IA.","version":"2.1.0"},"paths":{"/curriculum/niveles":{"get":{"tags":["Motor Curricular"],"summary":"Get Niveles","description":"Obtiene una estructura anidada de todos los cursos y sus asignaturas.\nIdeal para poblar menús desplegables en el frontend.","operationId":"get_niveles_curriculum_niveles_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"additionalProperties":{"items":{"type":"string"},"type":"array"},"type":"object","title":"Response Get Niveles Curriculum Niveles Get"}}}}},"security":[{"OAuth2PasswordBearer":[]}]}},"/curriculum/oas":{"get":{"tags":["Motor Curricular"],"summary":"Get Oas","description":"Obtiene la lista completa de ejes y sus Objetivos de Aprendizaje (OAs)\npara un curso y asignatura específicos.","operationId":"get_oas_curriculum_oas_get","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"curso","in":"query","required":true,"schema":{"type":"string","title":"Curso"}},{"name":"asignatura","in":"query","required":true,"schema":{"type":"string","title":"Asignatura"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/Eje"},"title":"Response Get Oas Curriculum Oas Get"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/planning/generate-plan":{"post":{"tags":["Co-piloto de Planificación"],"summary":"Generate Plan","operationId":"generate_plan_planning_generate_plan_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/PlanRequest"}}},"required":true},"responses":{"200":{"description":"Respuesta en formato Server-Sent Events (SSE). Cada evento es una línea `data:` seguida de un objeto JSON.\n            \nEjemplo de evento de 'pensamiento':\n`data: {\"type\": \"thought\", \"content\": \"Estoy analizando el OA...\"}`\n\nEjemplo de evento de 'respuesta':\n`data: {\"type\": \"answer\", \"content\": \"Aquí está la primera parte...\"}`\n","content":{"application/json":{"schema":{}},"text/event-stream":{}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}},"security":[{"OAuth2PasswordBearer":[]}]}},"/auth/token":{"post":{"tags":["Authentication & Users"],"summary":"Login For Access Token","operationId":"login_for_access_token_auth_token_post","requestBody":{"content":{"application/x-www-form-urlencoded":{"schema":{"$ref":"#/components/schemas/Body_login_for_access_token_auth_token_post"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Token"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/auth/users/":{"post":{"tags":["Authentication & Users"],"summary":"Create User","operationId":"create_user_auth_users__post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/UserCreate"}}},"required":true},"responses":{"201":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/User"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/auth/users/me":{"get":{"tags":["Authentication & Users"],"summary":"Read Users Me","operationId":"read_users_me_auth_users_me_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/User"}}}}},"security":[{"OAuth2PasswordBearer":[]}]}},"/auth/users/{username}/status":{"put":{"tags":["Authentication & Users"],"summary":"Update User Status","operationId":"update_user_status_auth_users__username__status_put","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"username","in":"path","required":true,"schema":{"type":"string","title":"Username"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/UserUpdate"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/User"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/auth/users/{username}/role":{"put":{"tags":["Authentication & Users"],"summary":"Update User Role","operationId":"update_user_role_auth_users__username__role_put","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"username","in":"path","required":true,"schema":{"type":"string","title":"Username"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/UserRoleUpdate"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/User"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/":{"get":{"tags":["General"],"summary":"Read Root","operationId":"read_root__get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}}}}},"components":{"schemas":{"Body_login_for_access_token_auth_token_post":{"properties":{"grant_type":{"anyOf":[{"type":"string","pattern":"^password$"},{"type":"null"}],"title":"Grant Type"},"username":{"type":"string","title":"Username"},"password":{"type":"string","format":"password","title":"Password"},"scope":{"type":"string","title":"Scope","default":""},"client_id":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Client Id"},"client_secret":{"anyOf":[{"type":"string"},{"type":"null"}],"format":"password","title":"Client Secret"}},"type":"object","required":["username","password"],"title":"Body_login_for_access_token_auth_token_post"},"Eje":{"properties":{"nombre_eje":{"type":"string","title":"Nombre Eje"},"oas":{"items":{"$ref":"#/components/schemas/OA"},"type":"array","title":"Oas"}},"type":"object","required":["nombre_eje","oas"],"title":"Eje"},"HTTPValidationError":{"properties":{"detail":{"items":{"$ref":"#/components/schemas/ValidationError"},"type":"array","title":"Detail"}},"type":"object","title":"HTTPValidationError"},"OA":{"properties":{"oa_codigo_oficial":{"type":"string","title":"Oa Codigo Oficial"},"descripcion_oa":{"type":"string","title":"Descripcion Oa"},"desglose_componentes":{"items":{"type":"string"},"type":"array","title":"Desglose Componentes"},"habilidades":{"items":{"type":"string"},"type":"array","title":"Habilidades"}},"type":"object","required":["oa_codigo_oficial","descripcion_oa"],"title":"OA"},"PlanRequest":{"properties":{"oa_codigo_oficial":{"type":"string","title":"Oa Codigo Oficial","description":"Código oficial del OA a planificar."},"recurso_principal":{"type":"string","title":"Recurso Principal","description":"Recurso central sobre el cual girará la clase."},"nivel_real_estudiantes":{"type":"string","title":"Nivel Real Estudiantes","description":"Descripción cualitativa del nivel del curso."},"materiales_disponibles":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Materiales Disponibles","description":"Recursos materiales con los que cuenta el docente en la sala."},"duracion_clase_minutos":{"type":"integer","title":"Duracion Clase Minutos","description":"Duración total de la sesión pedagógica en minutos.","default":90},"numero_estudiantes":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Numero Estudiantes","description":"Número total de estudiantes en el aula."},"diversidad_aula":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Diversidad Aula","description":"Contexto sobre la diversidad, incluyendo necesidades especiales (NEE/PIE)."},"clima_de_aula":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Clima De Aula","description":"Dinámica y comportamiento general del grupo."},"estilo_docente_preferido":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Estilo Docente Preferido","description":"Enfoque metodológico que el docente prefiere."},"tipo_evaluacion_formativa":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Tipo Evaluacion Formativa","description":"Instrumento o actividad de evaluación formativa específica."},"contexto_unidad":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Contexto Unidad","description":"Momento de la secuencia didáctica en que se enmarca la clase."},"conocimientos_previos_requeridos":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Conocimientos Previos Requeridos","description":"Habilidad o contenido prerrequisito que se necesite reforzar."}},"type":"object","required":["oa_codigo_oficial","recurso_principal","nivel_real_estudiantes"],"title":"PlanRequest","example":{"clima_de_aula":"Son creativos y les gusta dibujar, pero se distraen en actividades largas.","conocimientos_previos_requeridos":"Diferenciar entre acciones de personajes y sus motivaciones.","contexto_unidad":"Es la clase de cierre de la Unidad 1: 'El héroe en distintas épocas'.","diversidad_aula":"Hay 2 estudiantes con TEA en el espectro 1, necesitan instrucciones claras.","duracion_clase_minutos":90,"estilo_docente_preferido":"Aprendizaje colaborativo en grupos","materiales_disponibles":"Pizarra, proyector, hojas blancas y lápices de colores.","nivel_real_estudiantes":"Nivel de 6° Básico en comprensión lectora.","numero_estudiantes":38,"oa_codigo_oficial":"LE07 OA 03","recurso_principal":"El cuento 'El gigante egoísta' de Oscar Wilde.","tipo_evaluacion_formativa":"Crear un mini-cómic de 3 viñetas"}},"Token":{"properties":{"access_token":{"type":"string","title":"Access Token"},"token_type":{"type":"string","title":"Token Type"}},"type":"object","required":["access_token","token_type"],"title":"Token"},"User":{"properties":{"username":{"type":"string","title":"Username"},"email":{"type":"string","title":"Email"},"full_name":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Full Name"},"is_active":{"type":"boolean","title":"Is Active"},"role":{"type":"string","title":"Role"}},"type":"object","required":["username","email","is_active","role"],"title":"User"},"UserCreate":{"properties":{"username":{"type":"string","title":"Username"},"email":{"type":"string","title":"Email"},"full_name":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Full Name"},"password":{"type":"string","title":"Password"}},"type":"object","required":["username","email","password"],"title":"UserCreate"},"UserRoleUpdate":{"properties":{"role":{"type":"string","title":"Role"}},"type":"object","required":["role"],"title":"UserRoleUpdate"},"UserUpdate":{"properties":{"is_active":{"type":"boolean","title":"Is Active"}},"type":"object","required":["is_active"],"title":"UserUpdate"},"ValidationError":{"properties":{"loc":{"items":{"anyOf":[{"type":"string"},{"type":"integer"}]},"type":"array","title":"Location"},"msg":{"type":"string","title":"Message"},"type":{"type":"string","title":"Error Type"}},"type":"object","required":["loc","msg","type"],"title":"ValidationError"}},"securitySchemes":{"OAuth2PasswordBearer":{"type":"oauth2","flows":{"password":{"scopes":{},"tokenUrl":"/auth/token"}}}}}}